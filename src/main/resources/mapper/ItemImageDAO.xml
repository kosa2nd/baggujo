<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.baggujo.dao.ItemImageDAO">
<!--    <update id="insertItemImages" parameterType="java.util.Map">-->
<!--        <foreach collection="list" item="item" index="index" separator=" " open="INSERT ALL" close="SELECT * FROM DUAL">-->
<!--            into item_image (-->
<!--                name, s_name, img_no, item_id)-->
<!--            values (-->
<!--            #{item.name},-->
<!--            #{item.sName},-->
<!--            #{item.imgNo},-->
<!--            #{item.itemId})-->
<!--        </foreach>-->
<!--    </update>-->

    <insert id="insertItemImages" parameterType="java.util.Map">
        INSERT INTO item_image (
        name, s_name, img_no, item_id)
        SELECT A.*
        FROM (
        <foreach collection="list" item="item" separator="UNION ALL ">
            SELECT #{item.name} as name,
            #{item.sName} as s_name,
            #{item.imgNo} as img_no,
            #{item.itemId} as item_id
            FROM DUAL
        </foreach>
        ) A
    </insert>

</mapper>